import{_ as n,o as s,c as a,d as t}from"./app.038fac40.js";const p={},e=t(`<h1 id="socket-\u7F51\u7EDC\u7F16\u7A0B" tabindex="-1"><a class="header-anchor" href="#socket-\u7F51\u7EDC\u7F16\u7A0B" aria-hidden="true">#</a> socket \u7F51\u7EDC\u7F16\u7A0B</h1><h2 id="\u4EC0\u4E48\u662Fsocket" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662Fsocket" aria-hidden="true">#</a> \u4EC0\u4E48\u662Fsocket</h2><p>Socket\u7684\u82F1\u6587\u539F\u4E49\u662F\u201C\u5B54\u201D\u6216\u201C\u63D2\u5EA7\u201D\u3002\u5728\u7F51\u7EDC\u7F16\u7A0B\u4E2D\uFF0C\u7F51\u7EDC\u4E0A\u7684\u4E24\u4E2A\u7A0B\u5E8F\u901A\u8FC7\u4E00\u4E2A\u53CC\u5411\u7684\u901A\u4FE1\u8FDE\u63A5\u5B9E\u73B0\u6570\u636E\u7684\u4EA4\u6362\uFF0C\u8FD9\u4E2A\u8FDE\u63A5\u7684\u4E00\u7AEF\u79F0\u4E3A\u4E00\u4E2Asocket\u3002</p><p>\u200B Socket\u5957\u63A5\u5B57\u662F\u901A\u4FE1\u7684\u57FA\u77F3\uFF0C\u662F\u652F\u6301TCP/IP\u534F\u8BAE\u7684\u7F51\u7EDC\u901A\u4FE1\u7684\u57FA\u672C\u64CD\u4F5C\u5355\u5143\u3002\u5B83\u662F\u7F51\u7EDC\u901A\u4FE1\u8FC7\u7A0B\u4E2D\u7AEF\u70B9\u7684\u62BD\u8C61\u8868\u793A\uFF0C\u5305\u542B\u8FDB\u884C\u7F51\u7EDC\u901A\u4FE1\u5FC5\u987B\u7684\u4E94\u79CD\u4FE1\u606F\uFF1A\u8FDE\u63A5\u4F7F\u7528\u7684\u534F\u8BAE\uFF0C\u672C\u5730\u4E3B\u673A\u7684IP\u5730\u5740\uFF0C\u672C\u5730\u8FDB\u7A0B\u7684\u534F\u8BAE\u7AEF\u53E3\uFF0C\u8FDC\u5730\u4E3B\u673A\u7684IP\u5730\u5740\uFF0C\u8FDC\u5730\u8FDB\u7A0B\u7684\u534F\u8BAE\u7AEF\u53E3\u3002</p><p>\u200B Socket\u672C\u8D28\u662F\u7F16\u7A0B\u63A5\u53E3(API)\uFF0C\u5BF9TCP/IP\u7684\u5C01\u88C5\uFF0CTCP/IP\u4E5F\u8981\u63D0\u4F9B\u53EF\u4F9B\u7A0B\u5E8F\u5458\u505A\u7F51\u7EDC\u5F00\u53D1\u6240\u7528\u7684\u63A5\u53E3\uFF0C\u8FD9\u5C31\u662FSocket\u7F16\u7A0B\u63A5\u53E3\uFF1BHTTP\u662F\u8F7F\u8F66\uFF0C\u63D0\u4F9B\u4E86\u5C01\u88C5\u6216\u8005\u663E\u793A\u6570\u636E\u7684\u5177\u4F53\u5F62\u5F0F\uFF1BSocket\u662F\u53D1\u52A8\u673A\uFF0C\u63D0\u4F9B\u4E86\u7F51\u7EDC\u901A\u4FE1\u7684\u80FD\u529B\u3002</p><h2 id="socket\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#socket\u539F\u7406" aria-hidden="true">#</a> socket\u539F\u7406</h2><p>Socket\u5B9E\u8D28\u4E0A\u63D0\u4F9B\u4E86\u8FDB\u7A0B\u901A\u4FE1\u7684\u7AEF\u70B9\u3002\u8FDB\u7A0B\u901A\u4FE1\u4E4B\u524D\uFF0C\u53CC\u65B9\u9996\u5148\u5FC5\u987B\u5404\u81EA\u521B\u5EFA\u4E00\u4E2A\u7AEF\u70B9\uFF0C\u5426\u5219\u662F\u6CA1\u6709\u529E\u6CD5\u5EFA\u7ACB\u8054\u7CFB\u5E76\u76F8\u4E92\u901A\u4FE1\u7684\u3002\u6B63\u5982\u6253\u7535\u8BDD\u4E4B\u524D\uFF0C\u53CC\u65B9\u5FC5\u987B\u5404\u81EA\u62E5\u6709\u4E00\u53F0\u7535\u8BDD\u673A\u4E00\u6837\u3002</p><p>\u200B \u5957\u63A5\u5B57\u4E4B\u95F4\u7684\u8FDE\u63A5\u8FC7\u7A0B\u53EF\u4EE5\u5206\u4E3A\u4E09\u4E2A\u6B65\u9AA4\uFF1A\u670D\u52A1\u5668\u76D1\u542C\uFF0C\u5BA2\u6237\u7AEF\u8BF7\u6C42\uFF0C\u8FDE\u63A5\u786E\u8BA4\u3002</p><p>\u200B 1\u3001\u670D\u52A1\u5668\u76D1\u542C\uFF1A\u662F\u670D\u52A1\u5668\u7AEF\u5957\u63A5\u5B57\u5E76\u4E0D\u5B9A\u4F4D\u5177\u4F53\u7684\u5BA2\u6237\u7AEF\u5957\u63A5\u5B57\uFF0C\u800C\u662F\u5904\u4E8E\u7B49\u5F85\u8FDE\u63A5\u7684\u72B6\u6001\uFF0C\u5B9E\u65F6\u76D1\u63A7\u7F51\u7EDC\u72B6\u6001\u3002</p><p>\u200B 2\u3001\u5BA2\u6237\u7AEF\u8BF7\u6C42\uFF1A\u662F\u6307\u7531\u5BA2\u6237\u7AEF\u7684\u5957\u63A5\u5B57\u63D0\u51FA\u8FDE\u63A5\u8BF7\u6C42\uFF0C\u8981\u8FDE\u63A5\u7684\u76EE\u6807\u662F\u670D\u52A1\u5668\u7AEF\u7684\u5957\u63A5\u5B57\u3002\u4E3A\u6B64\uFF0C\u5BA2\u6237\u7AEF\u7684\u5957\u63A5\u5B57\u5FC5\u987B\u9996\u5148\u63CF\u8FF0\u5B83\u8981\u8FDE\u63A5\u7684\u670D\u52A1\u5668\u7684\u5957\u63A5\u5B57\uFF0C\u6307\u51FA\u670D\u52A1\u5668\u7AEF\u5957\u63A5\u5B57\u7684\u5730\u5740\u548C\u7AEF\u53E3\u53F7\uFF0C\u7136\u540E\u5C31\u5411\u670D\u52A1\u5668\u7AEF\u5957\u63A5\u5B57\u63D0\u51FA\u8FDE\u63A5\u8BF7\u6C42\u3002</p><p>\u200B 3\u3001\u8FDE\u63A5\u786E\u8BA4\uFF1A\u662F\u6307\u5F53\u670D\u52A1\u5668\u7AEF\u5957\u63A5\u5B57\u76D1\u542C\u5230\u6216\u8005\u8BF4\u63A5\u6536\u5230\u5BA2\u6237\u7AEF\u5957\u63A5\u5B57\u7684\u8FDE\u63A5\u8BF7\u6C42\uFF0C\u5B83\u5C31\u54CD\u5E94\u5BA2\u6237\u7AEF\u5957\u63A5\u5B57\u7684\u8BF7\u6C42\uFF0C\u5EFA\u7ACB\u4E00\u4E2A\u65B0\u7684\u7EBF\u7A0B\uFF0C\u628A\u670D\u52A1\u5668\u7AEF\u5957\u63A5\u5B57\u7684\u63CF\u8FF0\u53D1\u7ED9\u5BA2\u6237\u7AEF\uFF0C\u4E00\u65E6\u5BA2\u6237\u7AEF\u786E\u8BA4\u4E86\u6B64\u63CF\u8FF0\uFF0C\u8FDE\u63A5\u5C31\u5EFA\u7ACB\u597D\u4E86\u3002\u800C\u670D\u52A1\u5668\u7AEF\u5957\u63A5\u5B57\u7EE7\u7EED\u5904\u4E8E\u76D1\u542C\u72B6\u6001\uFF0C\u7EE7\u7EED\u63A5\u6536\u5176\u4ED6\u5BA2\u6237\u7AEF\u5957\u63A5\u5B57\u7684\u8FDE\u63A5\u8BF7\u6C42\u3002</p><h2 id="\u57FA\u4E8Ejava\u5B9E\u73B0socket\u7F51\u7EDC\u7F16\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u57FA\u4E8Ejava\u5B9E\u73B0socket\u7F51\u7EDC\u7F16\u7A0B" aria-hidden="true">#</a> \u57FA\u4E8EJava\u5B9E\u73B0socket\u7F51\u7EDC\u7F16\u7A0B</h2><p>Server\u7AEFListen\u76D1\u542C\u67D0\u4E2A\u7AEF\u53E3\u662F\u5426\u6709\u8FDE\u63A5\u8BF7\u6C42\uFF0CClient\u7AEF\u5411Server \u7AEF\u53D1\u51FA\u8FDE\u63A5\u8BF7\u6C42\uFF0CServer\u7AEF\u5411Client\u7AEF\u53D1\u56DEAccept\u63A5\u53D7\u6D88\u606F\u3002\u8FD9\u6837\u4E00\u4E2A\u8FDE\u63A5\u5C31\u5EFA\u7ACB\u8D77\u6765\u4E86\u3002Server\u7AEF\u548CClient\u7AEF\u90FD\u53EF\u4EE5\u901A\u8FC7Send\uFF0CWrite\u7B49\u65B9\u6CD5\u4E0E\u5BF9\u65B9\u901A\u4FE1\u3002</p><p>\u200B \u5BF9\u4E8E\u4E00\u4E2A\u529F\u80FD\u9F50\u5168\u7684Socket\uFF0C\u90FD\u8981\u5305\u542B\u4EE5\u4E0B\u57FA\u672C\u7ED3\u6784\uFF0C\u5176\u5DE5\u4F5C\u8FC7\u7A0B\u5305\u542B\u4EE5\u4E0B\u56DB\u4E2A\u57FA\u672C\u7684\u6B65\u9AA4\uFF1A</p><p>\u200B 1\u3001\u521B\u5EFASocket\uFF1B</p><p>\u200B 2\u3001 \u6253\u5F00\u8FDE\u63A5\u5230Socket\u7684\u8F93\u5165/\u51FA\u6D41\uFF1B</p><p>\u200B 3\u3001\u6309\u7167\u4E00\u5B9A\u7684\u534F\u8BAE\u5BF9Socket\u8FDB\u884C\u8BFB/\u5199\u64CD\u4F5C\uFF1B</p><p>\u200B 4\u3001\u5173\u95EDSocket\u3002</p><h3 id="\u57FA\u4E8Etcp\u7684socket\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u57FA\u4E8Etcp\u7684socket\u5B9E\u73B0" aria-hidden="true">#</a> \u57FA\u4E8ETCP\u7684socket\u5B9E\u73B0</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketClient</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token comment">// \u548C\u670D\u52A1\u5668\u521B\u5EFA\u8FDE\u63A5</span>
			<span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">8088</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token comment">// \u8981\u53D1\u9001\u7ED9\u670D\u52A1\u5668\u7684\u4FE1\u606F</span>
			<span class="token class-name">OutputStream</span> os <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>
			pw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\u5BA2\u6237\u7AEF\u53D1\u9001\u4FE1\u606F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			socket<span class="token punctuation">.</span><span class="token function">shutdownOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token comment">// \u4ECE\u670D\u52A1\u5668\u63A5\u6536\u7684\u4FE1\u606F</span>
			<span class="token class-name">InputStream</span> is <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">String</span> info <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>info <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u6211\u662F\u5BA2\u6237\u7AEF\uFF0C\u670D\u52A1\u5668\u8FD4\u56DE\u4FE1\u606F\uFF1A&quot;</span><span class="token operator">+</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
			br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			pw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketServer</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token comment">// \u521B\u5EFA\u670D\u52A1\u7AEFsocket</span>
			<span class="token class-name">ServerSocket</span> serverSocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">8088</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token comment">// \u521B\u5EFA\u5BA2\u6237\u7AEFsocket</span>
			<span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
			
			<span class="token comment">//\u5FAA\u73AF\u76D1\u542C\u7B49\u5F85\u5BA2\u6237\u7AEF\u7684\u8FDE\u63A5</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            	<span class="token comment">// \u76D1\u542C\u5BA2\u6237\u7AEF</span>
            	socket <span class="token operator">=</span> serverSocket<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	
            	<span class="token class-name">ServerThread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerThread</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">;</span>
            	thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            	
            	<span class="token class-name">InetAddress</span> address<span class="token operator">=</span>socket<span class="token punctuation">.</span><span class="token function">getInetAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F53\u524D\u5BA2\u6237\u7AEF\u7684IP\uFF1A&quot;</span><span class="token operator">+</span>address<span class="token punctuation">.</span><span class="token function">getHostAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// TODO: handle exception</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>
	
	<span class="token keyword">private</span> <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token class-name">ServerThread</span><span class="token punctuation">(</span><span class="token class-name">Socket</span> socket<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>socket <span class="token operator">=</span> socket<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">InputStream</span> is<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStreamReader</span> isr<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedReader</span> br<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">OutputStream</span> os<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> pw<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
			is <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
			br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>isr<span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token class-name">String</span> info <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
			
			<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>info<span class="token operator">=</span>br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u6211\u662F\u670D\u52A1\u5668\uFF0C\u5BA2\u6237\u7AEF\u8BF4\uFF1A&quot;</span><span class="token operator">+</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			socket<span class="token punctuation">.</span><span class="token function">shutdownInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			os <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>
			pw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\u670D\u52A1\u5668\u6B22\u8FCE\u4F60&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// TODO: handle exception</span>
		<span class="token punctuation">}</span> <span class="token keyword">finally</span><span class="token punctuation">{</span>
			<span class="token comment">//\u5173\u95ED\u8D44\u6E90</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>pw<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                    pw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>os<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                    os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>br<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                    br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>isr<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                    isr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>is<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                    is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>socket<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                    socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8FD0\u884C\u65F6\uFF0C\u82E5\u5148\u6267\u884CSocketClient\u4F1A\u63D0\u793A\u65E0\u6CD5\u8FDE\u63A5\u5230\u670D\u52A1\u5668\uFF0C\u56E0\u4E3A\u6B64\u65F6\u6CA1\u6709\u670D\u52A1\u5728\u76D1\u542C8088\u7AEF\u53E3\u3002\u6B64demo\u662F\u591A\u7EBF\u7A0B\u5B9E\u73B0\uFF0C\u5728\u5148\u542F\u52A8SocketServer\u540E\uFF0C\u670D\u52A1\u5668\u4F1A\u4E00\u76F4\u76D1\u542C8088\u7AEF\u53E3\uFF0C\u518D\u6267\u884CSocketClient\u5C31\u4F1A\u6B63\u5E38\u8F93\u51FA\u7ED3\u679C\u3002</p><h3 id="\u57FA\u4E8Eudp\u7684socket\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u57FA\u4E8Eudp\u7684socket\u5B9E\u73B0" aria-hidden="true">#</a> \u57FA\u4E8EUDP\u7684socket\u5B9E\u73B0</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketClient</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u8981\u53D1\u9001\u7684\u6D88\u606F</span>
            <span class="token class-name">String</span> sendMsg <span class="token operator">=</span> <span class="token string">&quot;\u5BA2\u6237\u7AEF\u53D1\u9001\u7684\u6D88\u606F&quot;</span><span class="token punctuation">;</span>
            
            <span class="token comment">// \u83B7\u53D6\u670D\u52A1\u5668\u7684\u5730\u5740</span>
            <span class="token class-name">InetAddress</span> addr <span class="token operator">=</span> <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// \u521B\u5EFApacket\u5305\u5BF9\u8C61\uFF0C\u5C01\u88C5\u8981\u53D1\u9001\u7684\u5305\u6570\u636E\u548C\u670D\u52A1\u5668\u5730\u5740\u548C\u7AEF\u53E3\u53F7</span>
            <span class="token class-name">DatagramPacket</span> packet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>sendMsg<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            		sendMsg<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span> addr<span class="token punctuation">,</span> <span class="token number">8088</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            
            <span class="token comment">// \u521B\u5EFASocket\u5BF9\u8C61</span>
            <span class="token class-name">DatagramSocket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// \u53D1\u9001\u6D88\u606F\u5230\u670D\u52A1\u5668</span>
            socket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>packet<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
            <span class="token comment">// \u5173\u95EDsocket</span>
            socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// TODO Auto-generated catch block</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketServer</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			 <span class="token comment">// \u8981\u63A5\u6536\u7684\u62A5\u6587</span>
			<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token class-name">DatagramPacket</span> packet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> bytes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token comment">// \u521B\u5EFAsocket\u5E76\u6307\u5B9A\u7AEF\u53E3</span>
			<span class="token class-name">DatagramSocket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token number">8088</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token comment">// \u63A5\u6536socket\u5BA2\u6237\u7AEF\u53D1\u9001\u7684\u6570\u636E\u3002\u5982\u679C\u672A\u6536\u5230\u4F1A\u4E00\u81F4\u963B\u585E</span>
			socket<span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>packet<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">String</span> receiveMsg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>packet<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>packet<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>packet<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>receiveMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token comment">// \u5173\u95EDsocket</span>
			socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// TODO: handle exception</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD0\u884C\u65F6\uFF0C\u5148\u542F\u52A8SocketServer\uFF0C\u518D\u542F\u52A8SocketClient\uFF0C\u4F1A\u6B63\u5E38\u6253\u5370\u6570\u636E\u3002\u5728\u5148\u542F\u52A8SocketServer\u65F6\uFF0C\u4EE3\u7801\u6267\u884C\u5230socket.receive(packet)\u65F6\u4F1A\u4E00\u81F4\u963B\u585E\u5728\u8FD9\u91CC\uFF0C\u76F4\u5230\u542F\u52A8SocketClient\u540E\uFF0CSocketServer\u4F1A\u7EE7\u7EED\u6267\u884C\uFF0C\u5E76\u5C06\u6536\u5230SocketClient\u7684\u4FE1\u606F\u6253\u5370\u51FA\u6765\u3002\u5982\u679C\u662F\u5148\u542F\u52A8SocketClient\uFF0C\u4F1A\u7ACB\u5373\u6267\u884C\u5B8C\u6BD5\uFF0C\u518D\u6267\u884CSocketServer\u65F6\uFF0C\u4F9D\u65E7\u4F1A\u963B\u585E\u5728receive\u65B9\u6CD5\u5904\uFF0C\u76F4\u5230\u4E0B\u4E00\u6B21SocketClient\u7684\u6267\u884C\u3002</p>`,27),c=[e];function o(l,i){return s(),a("div",null,c)}const k=n(p,[["render",o],["__file","JavaSocket.html.vue"]]);export{k as default};
